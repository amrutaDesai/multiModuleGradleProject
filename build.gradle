plugins {
    id 'java'
    id 'java-library'
    id 'org.springframework.boot' version '2.7.3'
}


subprojects {
    apply plugin: 'java'
    apply plugin: 'java-library'
    apply plugin: 'org.springframework.boot'
}

allprojects {
    group 'org.pratice'
    version '1.0-SNAPSHOT'

    task('hello').doLast {
        println "I'm $project.name"
    }

    apply from: "$rootProject.projectDir/dependencies.gradle"

    dependencies {
        annotationProcessor libs.lombok
        api libs.guava
        testImplementation testLibs.jupiterApi
        testImplementation testLibs.jupiterEngine
    }

    configurations {
        compilOnly.extendsFrom annotationProcessor
        testCompileOnly.extendsFrom annotationProcessor
        testAnnotationProcessor.extendsFrom annotationProcessor
    }

    repositories {
        mavenCentral()
    }


    test {
        useJUnitPlatform()
    }

}


